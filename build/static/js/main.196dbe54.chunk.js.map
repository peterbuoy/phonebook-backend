{"version":3,"sources":["services/persons.js","components/Notification.js","components/PersonForm.js","components/PersonList.js","components/Filter.js","App.js","index.js"],"names":["baseUrl","personService","getAll","axios","get","then","response","data","create","personObject","post","remove","id","delete","update","put","Notification","selectedStyle","message","messageType","color","fontStyle","borderRadius","fontSize","border","style","className","PersonForm","handleAddPerson","handleNewName","handleNewNumber","onSubmit","onChange","type","PersonList","persons","filter","handleDelete","filteredPersons","person","name","toLowerCase","includes","map","number","onClick","Filter","handleNewFilter","App","useState","notification","setNotification","setFilter","setPersons","newName","setNewName","newNumber","setNewNumber","useEffect","personData","event","target","value","preventDefault","isNameUnique","some","concat","setTimeout","catch","error","console","log","window","confirm","find","newPersons","findIndex","err","personName","personID","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.196dbe54.chunk.js","sourcesContent":["import axios from \"axios\";\r\nconst baseUrl = \"https://pure-lowlands-40590.herokuapp.com/api/persons\";\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst create = (personObject) => {\r\n  return axios.post(baseUrl, personObject);\r\n};\r\n\r\nconst remove = (id) => {\r\n  return axios.delete(`${baseUrl}/${id}`);\r\n};\r\n\r\nconst update = (id, personObject) => {\r\n  return axios.put(`${baseUrl}/${id}`, personObject);\r\n};\r\n\r\nconst personService = { getAll, create, remove, update };\r\n\r\nexport default personService;\r\n","const Notification = ({ message, messageType }) => {\r\n  let selectedStyle;\r\n  const successStyle = {\r\n    color: \"green\",\r\n    fontStyle: \"italic\",\r\n    borderRadius: \"5px\",\r\n    fontSize: \"2em\",\r\n    border: \"0.2em solid green\",\r\n  };\r\n  const errorStyle = {\r\n    color: \"red\",\r\n    fontStyle: \"bold\",\r\n    borderRadius: \"5px\",\r\n    fontSize: \"2em\",\r\n    border: \"0.2em dashed red\",\r\n  };\r\n\r\n  messageType === \"error\"\r\n    ? (selectedStyle = errorStyle)\r\n    : (selectedStyle = successStyle);\r\n\r\n  if (message === null) return null;\r\n\r\n  return (\r\n    <div style={selectedStyle} className=\"notification\">\r\n      {message}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Notification;\r\n","const PersonForm = ({ handleAddPerson, handleNewName, handleNewNumber }) => {\r\n  return (\r\n    <div>\r\n      <h2>Add New</h2>\r\n      <form onSubmit={handleAddPerson}>\r\n        <div>\r\n          name: <input onChange={handleNewName} />\r\n        </div>\r\n        <div>\r\n          number: <input onChange={handleNewNumber} />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PersonForm;\r\n","const PersonList = ({ persons, filter, handleDelete }) => {\r\n  const filteredPersons = persons.filter((person) =>\r\n    person.name.toLowerCase().includes(`${filter.toLowerCase()}`)\r\n  );\r\n  return (\r\n    <div>\r\n      {filteredPersons.map((person) => (\r\n        <div key={person.id}>\r\n          {person.name} {person.number}{\" \"}\r\n          <button onClick={() => handleDelete(person.name, person.id)}>\r\n            delete\r\n          </button>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PersonList;\r\n","const Filter = ({ handleNewFilter }) => {\r\n  return (\r\n    <div>\r\n      filter shown with <input onChange={handleNewFilter} />\r\n    </div>\r\n  );\r\n};\r\nexport default Filter;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport personService from \"./services/persons\";\r\nimport Notification from \"./components/Notification\";\r\nimport PersonForm from \"./components/PersonForm\";\r\nimport PersonList from \"./components/PersonList\";\r\nimport Filter from \"./components/Filter\";\r\n\r\nconst App = () => {\r\n  const [notification, setNotification] = useState({\r\n    message: null,\r\n    messageType: null,\r\n  });\r\n  const [filter, setFilter] = useState(\"\");\r\n  const [persons, setPersons] = useState([]);\r\n  const [newName, setNewName] = useState(\"\");\r\n  const [newNumber, setNewNumber] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    personService.getAll().then((personData) => {\r\n      setPersons(personData);\r\n    });\r\n  }, []);\r\n\r\n  const handleAddPerson = (event) => {\r\n    event.preventDefault();\r\n    const isNameUnique = !persons.some((person) => person.name === newName);\r\n\r\n    const personObject = { name: `${newName}`, number: `${newNumber}` };\r\n    if (isNameUnique) {\r\n      personService\r\n        .create(personObject)\r\n        .then((response) => {\r\n          setPersons(persons.concat(response.data));\r\n          setNotification({\r\n            message: `Added ${newName}`,\r\n            messageType: \"success\",\r\n          });\r\n          setTimeout(() => {\r\n            setNotification({\r\n              message: null,\r\n              messageType: null,\r\n            });\r\n          }, 4000);\r\n        })\r\n        .catch((error) => console.log(error));\r\n    } else {\r\n      const confirmReplacement = window.confirm(\r\n        `${newName} is already added to phonebook, replace the old number with new one?`\r\n      );\r\n      if (confirmReplacement) {\r\n        const id = persons.find((person) => person.name === newName).id;\r\n        personService\r\n          .update(id, personObject)\r\n          .then(() => {\r\n            const newPersons = [...persons];\r\n            const personIndex = persons.findIndex(\r\n              (person) => person.name === newName\r\n            );\r\n            newPersons[personIndex].number = newNumber;\r\n            setPersons(newPersons);\r\n            setNotification({\r\n              message: `Updated ${newName}`,\r\n              messageType: \"success\",\r\n            });\r\n            setTimeout(() => {\r\n              setNotification({\r\n                message: null,\r\n                messageType: null,\r\n              });\r\n            }, 4000);\r\n          })\r\n          .catch((err) => {\r\n            setNotification({\r\n              message: `Oops, ${newName} has already been deleted`,\r\n              messageType: \"error\",\r\n            });\r\n            setTimeout(() => {\r\n              setNotification({\r\n                message: null,\r\n                messageType: null,\r\n              });\r\n            }, 4000);\r\n            setPersons(persons.filter((person) => person.name !== newName));\r\n          });\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleNewFilter = (event) => {\r\n    setFilter(event.target.value);\r\n  };\r\n\r\n  const handleNewNumber = (event) => {\r\n    setNewNumber(event.target.value);\r\n  };\r\n\r\n  const handleNewName = (event) => {\r\n    setNewName(event.target.value);\r\n  };\r\n\r\n  const handleDelete = (personName, personID) => {\r\n    if (window.confirm(`Are you sure you want to delete ${personName}`)) {\r\n      personService\r\n        .remove(personID)\r\n        .then(setPersons(persons.filter((person) => person.id !== personID)))\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification\r\n        message={notification.message}\r\n        messageType={notification.messageType}\r\n      />\r\n      <Filter handleNewFilter={handleNewFilter} />\r\n      <PersonForm\r\n        handleAddPerson={handleAddPerson}\r\n        handleNewNumber={handleNewNumber}\r\n        handleNewName={handleNewName}\r\n      />\r\n      <h2>Numbers</h2>\r\n      <PersonList\r\n        persons={persons}\r\n        filter={filter}\r\n        handleDelete={handleDelete}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n"],"sourceRoot":""}